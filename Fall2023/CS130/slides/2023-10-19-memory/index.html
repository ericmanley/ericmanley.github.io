<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>reveal.js</title>

        <link rel="stylesheet" href="../dist/reset.css">
        <link rel="stylesheet" href="../dist/reveal.css">
        <link rel="stylesheet" href="../dist/theme/white.css" id="theme">

        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="../plugin/highlight/monokai.css" id="highlight-theme">

        <style>
            .twocolumn {
           display: grid;
           grid-template-columns: 1fr 1fr;
           grid-gap: 10px;
           text-align: left;
        }
        </style>

    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section data-markdown
                         data-separator="<!--==*-->"
                         data-separator-vertical="<!----*-->">
                    <textarea data-template>
# Memory


---

CS 130 // 2023-10-19

<!--=====================================================================-->


# Review
<!-- .slide: data-background="#004477" -->

<!--=====================================================================-->

## Sequential Logic
- **Sequential** logic circuits have memory
    + <!-- .element: class="fragment"-->
 Output depends on both the input and current state of memory
    + <!-- .element: class="fragment"-->
 Behavior can change **over time**

<!--=====================================================================-->

### Sequential Logic Components
- **Clock**: a signal that oscillates between 0 and 1
- <!-- .element: class="fragment"-->
 **Latch**: 1-bit memory element that is updated when the clock is 1
- <!-- .element: class="fragment"-->
 **Flip Flop**: 1-bit memory element that is updated when the clock transitions from a 1 to a 0
- <!-- .element: class="fragment"-->
 **Register**: multi-bit memory unit (32 or 64 bits) that consists of an array of flip flops or latches
- <!-- .element: class="fragment"-->
 **Register Files**: An array of registers

<!--=====================================================================-->


# ROM
<!-- .slide: data-background="#004477" -->


<!--=====================================================================-->

## ROM: Read-Only Memory


- Intended only to be read from (though it may be possible to change it in some circumstances)
- **Non-volatile**: keeps its value without power
- Game Cartidges, CD-ROM, DVD
- Firmware for PCs and other devices
  + contains boot-up instructions

![CD ROM](../../assets/images/CD-ROM.png) <!-- .element width="200px" -->
![game cartridge](../../assets/images/gamecartridge.jpg) <!-- .element width="200px" -->

<!--=====================================================================-->

# RAM
<!-- .slide: data-background="#004477" -->

<!--=====================================================================-->

## RAM: Random Access Memory
- It takes the same amount of time to access data regardless of where it is 

![RAM modules](../../assets/images/ram.jpg) <!-- .element width="400px" -->


<!--=====================================================================-->

## Static Random Access Memory
- Memory where data is stored *statically* with flip-flops
- Faster than DRAM but less dense (lower capacity) and more expensive per bit
- As long as it has power, SRAM will keep its value
- Usually used for cache memory

<!--=====================================================================-->

## Dynamic Random Access Memory
- DRAM is the most dense RAM
    * Implemented with capacitors instead of latches - stores energy in an electrical field
- Must be occasionally "refreshed" because the capacitors slowly lose their stored values
    * This is why it is called "dynamic"
- Usually used for large capacity RAM

<!--=====================================================================-->

## Instruction Memory on the CPU

![Instruction Fetch](/Fall2023/CS130/assets/images/COD/instruction_fetch.png)

<!--====================================================================-->

## Demo: Make it in Logisim 


<div class="twocolumn">

<div>
Use a ROM to simulate instruction memory

- 16 bit address (should be 32 for MIPS, but that is too big for Logisim)
- Quad output - so we can read four bytes at a time
- lowest-address byte is shown first in Logisim memory contents

</div>
<div>


![MIPS program in Logisim](../../assets/images/mips-for-logisim-rom.png) <!-- .element width="500px" -->

![MIPS program in MARS](../../assets/images/mips-for-logisim-mars.png) <!-- .element width="600px" -->

</div>
</div>



<!--====================================================================-->

## Exercise



- Create a Program Counter Register which iterates through the instructions in memory


![Instruction Memory in Logisim](../../assets/images/instruction-memory-logisim.png)
<!--====================================================================-->


## Exercise


- You can set your splitter to have custom fan-out ranges
- Make a separate pin for each instruction field (opcode, rs, rt, etc.)


<div class="twocolumn">

<div>

![Custom Ranges for Splitter](../../assets/images/custom-splitter.png) 

</div>
<div>

![R-Type format](../../assets/images/COD/r-type-instruction.png) 
![I-Type format](../../assets/images/COD/i-type-instruction.png) 

</div>
</div>
                    </textarea>
                </section>
            </div>
        </div>

        <script src="../dist/reveal.js"></script>
        <script src="../plugin/notes/notes.js"></script>
        <script src="../plugin/markdown/markdown.js"></script>
        <script src="../plugin/highlight/highlight.js"></script>
        <script src="../plugin/chalkboard/plugin.js"></script>
        <script src="../plugin/math/math.js"></script>
        <script src="../plugin/menu/menu.js"></script>
        <!--  -->
        <script>
            // More info about initialization & config:
            // - https://revealjs.com/initialization/
            // - https://revealjs.com/config/
            Reveal.initialize({
                hash: true,
                pdfSeparateFragments: false,

                chalkboard: {
                    chalkWidth: 4,
                    chalkEffect: 0.5,
                    toggleChalkboardButton: false,
                    toggleNotesButton: false,
                },

                menu: {
                    hideMissingTitles: true,
                    themes: true,
                    themesPath: '../dist/theme/',
                },

                // Learn about plugins: https://revealjs.com/plugins/
                plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, 
                    RevealChalkboard, RevealMath, RevealMenu ]
            });
        </script>
    </body>
</html>
