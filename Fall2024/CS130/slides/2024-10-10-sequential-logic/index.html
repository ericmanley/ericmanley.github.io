<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>reveal.js</title>

        <link rel="stylesheet" href="../dist/reset.css">
        <link rel="stylesheet" href="../dist/reveal.css">
        <link rel="stylesheet" href="../dist/theme/white.css" id="theme">

        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="../plugin/highlight/monokai.css" id="highlight-theme">

        <style>
            .twocolumn {
           display: grid;
           grid-template-columns: 1fr 1fr;
           grid-gap: 10px;
           text-align: left;
        }
        </style>

    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section data-markdown
                         data-separator="<!--==*-->"
                         data-separator-vertical="<!----*-->">
                    <textarea data-template>
# Sequential Logic

---

CS 130 // 2024-10-10

<!--=====================================================================-->

# Sequential Logic
<!-- .slide: data-background="#004477" -->

<!--=====================================================================-->

## Review: Combinational VS Sequential

- A **combinational circuit** is:
    + Relies solely on the input to resolve its output
    + Stateless / memoryless / doesn't depend on previous states

---

- A **sequential circuit** is:
    + Relies on input *and* current state to resolve its output
    + Has memory




<!--=====================================================================-->

## Review: S-R Latch
<div class="twocolumn">

<div>

- A "set reset" latch is implemented with
    <img src='/Fall2024/CS130/assets/images/COD/sr-latch.png' alt="S-R latch diagram" />
- S = 1 $\rightarrow$ change Q to 1
- R = 1 $\rightarrow$ change Q to 0
- S = R = 0 $\rightarrow$ leave Q as is

</div>

<div  style="font-size: 70%">

<table>
  <tbody>
    <tr><th>$S$</th><th>$R$</th><th>$Q$</th><th>$\overline{Q}$</th><th bgcolor="lightgray"></th><th>$Q_\text{next}$</th><th>$\overline{Q}_\text{next}$</th></tr>
    <tr> <td>0</td> <td>0</td> <td>0</td><td>1</td><td bgcolor="lightgray"></td><td>0</td><td>1</td></tr>
    <tr> <td>0</td> <td>0</td> <td>1</td><td>0</td><td bgcolor="lightgray"></td><td>1</td><td>0</td></tr>
    <tr> <td>1</td> <td>0</td> <td>0</td><td>1</td><td bgcolor="lightgray"></td><td>1</td><td>0</td></tr>
    <tr> <td>1</td> <td>0</td> <td>1</td><td>0</td><td bgcolor="lightgray"></td><td>1</td><td>0</td></tr>
    <tr> <td>0</td> <td>1</td> <td>0</td><td>1</td><td bgcolor="lightgray"></td><td>0</td><td>1</td></tr>
    <tr> <td>0</td> <td>1</td> <td>1</td><td>0</td><td bgcolor="lightgray"></td><td>0</td><td>1</td></tr>
  </tbody>
</table>

</div>
</div>

<!--=====================================================================-->

## D Latch
<div class="twocolumn">

<div>

- A "data" latch is implemented with
    <img src='/Fall2024/CS130/assets/images/COD/d-latch.png' alt="D latch diagram" />
- Let's fill in the truth table together 

</div>

<div  style="font-size: 90%">

<table>
  <tbody>
    <tr><th>$C$</th><th>$D$</th><th>$Q_\text{next}$</th></tr>
    <tr> <td>0</td> <td>0</td> <td></tr>
    <tr> <td>0</td> <td>1</td> <td></tr>
    <tr> <td>1</td> <td>0</td> <td></tr>
    <tr> <td>1</td> <td>1</td> <td></tr>
  </tbody>
</table>

</div>
</div>

<!--=====================================================================-->

## Clocks

- Latches are controlled by clocks that regularly trigger

<div class="twocolumn">
<div>

![D latch](../../assets/images/COD/d-latch.png)

</div>
<div>

![D latch clocking diagram](../../assets/images/COD/latch_clock_diagram.png)

</div>
</div>

<!--=====================================================================-->

## Exercise

- Experiment with these in Logisim
- How can you get it to store a 1 in the latch?
- How can you get it to store a 0 in the latch?

<div class="twocolumn">
<div>

![latch with clock](../../assets/images/latch_with_clock.png)

</div>
<div>

![write-controlled latch](../../assets/images/write_controlled_latch.png)

</div>
</div>

<!--=====================================================================-->

## D Flip Flop

<div  style="font-size: 90%">

- A (falling edge-triggered) **D flip flop** can be implemented with two D latches in series 
- This configuration creates a **delay** so that the output is only changed on the **falling edge** of the clock

<img src='/Fall2024/CS130/assets/images/COD/d-flip-flop.png' alt="D flip flop diagram" />

- a rising edge-triggered flip flop can be constructed similarly

</div>

<!--=====================================================================-->

## Registers
- A **register** is a multi-bit memory component
- Registers are commonly implemented with an array of D flip flops

<!--=====================================================================-->

## Register Files
- A **register file** consists of an array of registers that can be read and written to

![Register File Diagram](/Fall2024/CS130/assets/images/COD/register-file.png)

<!---------------------------------->

## Register Files
- **Reading** is implemented with multiplexers

![Register File Diagram](/Fall2024/CS130/assets/images/COD/register-file-reading.png)

<!---------------------------------->

## Register Files
- **Writing** is implemented with a decoder

![Register File Diagram](/Fall2024/CS130/assets/images/COD/register-file-writing.png)

<!--=====================================================================-->

## Exercise: Build a register File in Logisim

<div class="twocolumn">
<div>

- 32 bits
- at least 4 registers 

![Register File Diagram](/Fall2024/CS130/assets/images/COD/register-file.png) <!-- .element width="300px" -->

</div>
<div>

![Register File Diagram](/Fall2024/CS130/assets/images/COD/register-file-writing.png) <!-- .element width="200px" -->
![Register File Diagram](/Fall2024/CS130/assets/images/COD/register-file-reading.png) <!-- .element width="200px" -->

![register file glimpse](../../assets/images/register_file_glimpse.png) <!-- .element width="400px" -->

</div>
</div>


                    </textarea>
                </section>
            </div>
        </div>

        <script src="../dist/reveal.js"></script>
        <script src="../plugin/notes/notes.js"></script>
        <script src="../plugin/markdown/markdown.js"></script>
        <script src="../plugin/highlight/highlight.js"></script>
        <script src="../plugin/chalkboard/plugin.js"></script>
        <script src="../plugin/math/math.js"></script>
        <script src="../plugin/menu/menu.js"></script>
        <!--  -->
        <script>
            // More info about initialization & config:
            // - https://revealjs.com/initialization/
            // - https://revealjs.com/config/
            Reveal.initialize({
                hash: true,
                pdfSeparateFragments: false,

                chalkboard: {
                    chalkWidth: 4,
                    chalkEffect: 0.5,
                    toggleChalkboardButton: false,
                    toggleNotesButton: false,
                },

                menu: {
                    hideMissingTitles: true,
                    themes: true,
                    themesPath: '../dist/theme/',
                },

                // Learn about plugins: https://revealjs.com/plugins/
                plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, 
                    RevealChalkboard, RevealMath, RevealMenu ]
            });
        </script>
    </body>
</html>
